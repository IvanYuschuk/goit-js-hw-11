{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet galleryLightbox;\n\nexport function createGallery(images) {\n    const ulElem = document.querySelector(\"ul.gallery\");\n    const markup = images.map((image) => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${image.webformatURL}\"\n                    data-source=\"${image.largeImageURL}\"\n                    alt=\"${image.tags}\"\n                />\n            </a>\n            <ul class=\"image-info\">\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Likes</p>\n                    <span class=\"info-span\">${image.likes}</span>\n                </li>\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Views</p>\n                    <span class=\"info-span\">${image.views}</span>\n                </li>\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Comments</p>\n                    <span class=\"info-span\">${image.comments}</span>\n                </li>\n                <li class=\"image-info-item\">\n                    <p class=\"info-p\">Downloads</p>\n                    <span class=\"info-span\">${image.downloads}</span>\n                </li>\n            </ul>\n        </li>`\n    ).join(''); \n    ulElem.insertAdjacentHTML('beforeend', markup);\n\n    if (!galleryLightbox) {\n        // Якщо галерея ще не створена — ініціалізуємо її\n        galleryLightbox = new SimpleLightbox('.gallery a', {\n            captionsData: 'alt', // брати опис з атрибута alt\n            captionDelay: 250,   // затримка появи підпису\n        });\n    } else {\n        // Якщо галерея вже існує — просто оновлюємо її (щоб вона \"побачила\" нові картинки)\n        galleryLightbox.refresh();\n    }\n}\n\nexport function clearGallery() {\n    const ulElem = document.querySelector(\".gallery\");\n    if (ulElem) {\n        ulElem.innerHTML = \"\";\n    }\n}\n\n// Приклад реалізації (додайте це в свій файл, якщо немає)\nexport function showLoader() {\n    const loader = document.querySelector('.loader');\n    if(loader) loader.style.display = 'block'; // або loader.classList.remove('is-hidden')\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector('.loader');\n    if(loader) loader.style.display = 'none'; // або loader.classList.add('is-hidden')\n}","import { createGallery, showLoader, hideLoader } from \"./render-functions.js\";\n\nimport axios from 'axios';\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nexport function getImagesByQuery(query) {\n    const baseURL = \"https://pixabay.com/api/\";\n    \n    showLoader(); \n\n    return axios.get(baseURL, {\n        params: {\n            key: \"53364117-23ce706026567dc1d7b8b2eb2\",\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n        },\n        timeout: 3000,\n    })\n    .then(response => {\n        if (response.data.hits.length === 0) {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n            });\n            return; \n        }\n\n        createGallery(response.data.hits);\n    })\n    .catch((error) => { \n        console.error(error);\n    })\n    .finally(() => {\n        hideLoader();\n    });\n}\n\n\n\n","\n\n\n\n\nimport { getImagesByQuery } from \"./js/pixabay-api.js\";\nimport { clearGallery } from \"./js/render-functions.js\";\n\nconst form = document.querySelector(\".form\");\nconst btn = document.querySelector(\"button\");\nbtn.disabled = false;\nform.addEventListener('submit', (e) => {\n    e.preventDefault();\n    clearGallery();\n    if (document.querySelector(\"input\").value.trim() === \"\") {\n        return;\n    }\n    const query = document.querySelector(\"input\").value;\n    getImagesByQuery(query)\n})\n\n\n\n\n\n\n\n\n"],"names":["galleryLightbox","createGallery","images","ulElem","markup","image","SimpleLightbox","clearGallery","showLoader","loader","hideLoader","getImagesByQuery","query","baseURL","axios","response","iziToast","error","form","btn"],"mappings":"owBAGA,IAAIA,EAEG,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAASF,EAAO,IAAKG,GAAU;AAAA;AAAA,4CAEGA,EAAM,aAAa;AAAA;AAAA;AAAA,2BAGpCA,EAAM,YAAY;AAAA,mCACVA,EAAM,aAAa;AAAA,2BAC3BA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAMSA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,8CAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,8CAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,8CAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,cAI7D,EAAM,KAAK,EAAE,EACTF,EAAO,mBAAmB,YAAaC,CAAM,EAExCJ,EAQDA,EAAgB,QAAO,EANvBA,EAAkB,IAAIM,EAAe,aAAc,CAC/C,aAAc,MACd,aAAc,GAC1B,CAAS,CAKT,CAEO,SAASC,GAAe,CAC3B,MAAMJ,EAAS,SAAS,cAAc,UAAU,EAC5CA,IACAA,EAAO,UAAY,GAE3B,CAGO,SAASK,GAAa,CACzB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC5CA,IAAQA,EAAO,MAAM,QAAU,QACtC,CAEO,SAASC,GAAa,CACzB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC5CA,IAAQA,EAAO,MAAM,QAAU,OACtC,CC1DO,SAASE,EAAiBC,EAAO,CACpC,MAAMC,EAAU,2BAEhB,OAAAL,IAEOM,EAAM,IAAID,EAAS,CACtB,OAAQ,CACJ,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,EACD,QAAS,GACjB,CAAK,EACA,KAAKG,GAAY,CACd,GAAIA,EAAS,KAAK,KAAK,SAAW,EAAG,CACjCC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,UAC1B,CAAa,EACD,MACH,CAEDf,EAAcc,EAAS,KAAK,IAAI,CACxC,CAAK,EACA,MAAOE,GAAU,CACd,QAAQ,MAAMA,CAAK,CAC3B,CAAK,EACA,QAAQ,IAAM,CACXP,GACR,CAAK,CACL,CCjCA,MAAMQ,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAM,SAAS,cAAc,QAAQ,EAC3CA,EAAI,SAAW,GACfD,EAAK,iBAAiB,SAAW,GAAM,CAGnC,GAFA,EAAE,eAAc,EAChBX,IACI,SAAS,cAAc,OAAO,EAAE,MAAM,KAAM,IAAK,GACjD,OAEJ,MAAMK,EAAQ,SAAS,cAAc,OAAO,EAAE,MAC9CD,EAAiBC,CAAK,CAC1B,CAAC"}